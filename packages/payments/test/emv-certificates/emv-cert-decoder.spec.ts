import 'mocha';
import * as assert from 'assert';

import { EMVCertificateDecoder, H2B } from '@cryptographix/payments';
import { ByteArray } from '@cryptographix/core';

//class Buffer {}

const issuerCert1= "1605A34D4D0CCF8B78DC8BA2BD26A871680A2BE0865319C55BB0F8DA793AF8E8114A401981FA1BC91E66B068050C7285E381F44D4117EA8E9BE9ADC329B2F3954D1B77D1137AF9AE3FD81E894D7A32D936587114EE82F44675B748EEE1DE907A59BFFE64B23DB263AAF7FB91F75B142BF192E6791E38F069C54C98F10AEB291E1C32D141B5079B790C502A0038146DDB7E37D341590B5193422B07BCF5A5BC68F6B970532D7C37872BA5EF5FCC7992B8B391C01AE9CD3209BD72CCD8CB77199C3D298FDA1A235F35309750EF2FD3E5D7EA525AB82E53A7FA147D622165BC8BE97FEEF84D134B38CD3B7E04FD80DB9391EA180094C7B0E4ED";

describe( 'EMV IssuerCert', ()=> {
  it( 'should work', async ()=>  {
    let emv = new EMVCertificateDecoder();

    let cert = await emv.decodeIssuerCertificate(
      H2B("A000000154"), 0x02, H2B( issuerCert1 ) );

    console.log( cert );

    return cert;
  } )
} )
